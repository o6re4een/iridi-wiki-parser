---
id: IRidium_studio_2019_Sounds
title: Воспроизведение звуков, вибрация
---
# Воспроизведение звуков, вибрация

##  Звук и вибрация при нажатии на кнопку 

Воспроизвести звук или вибрацию при нажатии на элемент, можно на телефонах и планшетах, оснащенных вибро\-мотором\. 

**Для работы со звуками** служит набор команд \(макросов\) в свойствах графических элементов: 

![123](/img/IRidium_studio_2019_Sounds/Studio2019_Sound_macro.png)

**Sound** \(управление звуками\): 

- Play Sound \[файл, номер дорожки, громкость, цикличность\]\. Начать воспроизведение аудио\-файл
- Play System Sound \[звук, номер дорожки, громкость\]\. Воспроизвести стандартный звук
- Stop Sound \[файл\]\. Остановить воспроизведение аудио\-файла
- Stop Slot \[номер дорожки\]\.  Остановить воспроизведение аудио\-файла на указанной дорожке
- Stop All Sounds\. Остановить воспроизведение любых звуков в проекте

[**Подробнее о командах в макросах \>\>\>** ](https://dev.iridi.com/IRidium_studio_2019_Programming)

Чтобы активировать токен при нажатии на кнопку, используйте макрос **Send number to tag** из группы **Send to project token** \. Записывайте в токен **число 1** : 

![123](/img/IRidium_studio_2019_Sounds/Studio2019_Vibro_macro.png)

##  Звук и вибрация при событии в системе 

Любое событие: изменение переменной, токена, наступление указанного времени и др\. можно использовать как событие для воспроизведения звука и других действий\. Частая задача: показать окно\-попап с предупреждением, и воспроизвести звук, если в системе управления произошел сбой, если поступил звонок с домофона и т\.д\. 

Связать событие и действие вы можете с помощью простого скрипта\. 

**Пример:** воспроизвести звук и вибрацию, открыть попап, если фидбек "1/0/2" драйвера "iRidium server" стал равен 1 

```javascript
IR.AddListener(IR.EVENT_TAG_CHANGE, IR.GetDevice("iRidium Server"), function(name, value)
{
    // if the feedback "1/0/2" of "iRidium server" changes to value 1
    if (name == "1/0/2" && value == 1) {
        // play sound, all slots, volume: 50
        IR.PlaySound('Sounds1_0012.mp3', 0, 50); 
        // vibration
        IR.SetVariable("System.Vibro", true);
        // open popup "Alarm"
        IR.ShowPopup("Alarm");
    }
});
```

Все типы событий и действий см\. в [**руководстве** ](https://dev.iridi.com/JS_Guide)и [**справочнике** ](https://dev.iridi.com/JS_Handbook)по JavaScript в iRidium\. 

##  Звук Push\-уведомлений 

Когда приложение i3 pro открыто и развернуто на телефоне или планшете, Push уведомление не воспроизводится со звуком, и не появляется всплывающая подсказка\. 

Чтобы не пропустить уведомление, нужно настроить обработку уведомлений внутри приложения i3 pro: интерфейс должен показать попап и воспроизвести звук при получении уведомления\. Как это сделать: 

[Читайте пункт 4\.1 инструкции по настройке Push \>\>\> ](https://dev.iridi.com/Push_notifications)

##  IP\-камеры с поддержкой аудио 

Некоторые IP\-камеры, например Mobotix, могут передавать видео\-поток в формате mxpeg, содержащий аудио\-дорожку\. Если вы хотите воспроизводить звук на странице IP\-камеры, **включите галочку Audio** в настройках камеры: 

![123](/img/IRidium_studio_2019_Sounds/Studio2019_IPCam_audio.png)

[Другие настройки IP\-камеры \>\>\> ](https://dev.iridi.com/IRidium_studio_2019_IPCameras)

##  SIP\-телефония: звук вызова 

Готовые интерфейсы для SIP\-телефонии осуществляют работу со звуком вызовов: 

- в открытом приложении i3 pro воспроизводится **звук вызова**
- в свернутом и закрытом приложении можно настроить **длинный сигнал при получении Push** уведомления о звонке:

[См\. решения для SIP\-телефонии \>\>\> ](https://dev.iridi.com/SIP-telephony)

NewPP limit report
CPU time usage: 0\.056 seconds
Real time usage: 0\.079 seconds
Preprocessor visited node count: 59/1000000
Preprocessor generated node count: 150/1000000
Post‐expand include size: 395/2097152 bytes
Template argument size: 203/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100 Saved in parser cache with key irmob\_wiki3:pcache:idhash:29858\-0\!\*\!0\!\!ru\!5\!\* and timestamp 20250713182616 and revision id 77694